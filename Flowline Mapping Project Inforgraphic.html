<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitts vs New Harmony Field Comparison</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .chart-section {
            margin-bottom: 50px;
        }
        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
        }
        .pie-charts {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }
        .pie-chart-container {
            position: relative;
            height: 450px;
        }
        h2 {
            color: #444;
            border-bottom: 2px solid #0079c1;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .summary {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-top: 30px;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }
        .summary-box {
            padding: 15px;
            background-color: white;
            border-radius: 5px;
            border-left: 4px solid #0079c1;
        }
        .summary-box h3 {
            margin-top: 0;
            color: #0079c1;
        }
        .summary-value {
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }
        .summary-breakdown {
            font-size: 14px;
            color: #666;
            margin-top: 8px;
        }
        .info-badge {
            background-color: #e3f2fd;
            border-left: 3px solid #2196f3;
            padding: 10px;
            margin-top: 12px;
            border-radius: 3px;
            font-size: 13px;
            color: #1565c0;
        }
        .info-badge strong {
            color: #0d47a1;
        }
        .warning-badge {
            background-color: #ffebee;
            border-left: 3px solid #d32f2f;
            padding: 10px;
            margin-top: 15px;
            border-radius: 3px;
            font-size: 13px;
            color: #b71c1c;
        }
        .warning-badge strong {
            color: #c62828;
        }
        .comparison-section {
            margin-top: 50px;
            margin-bottom: 50px;
        }
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }
        .comparison-card {
            background-color: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .comparison-card h3 {
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 20px;
        }
        .comparison-list {
            margin: 0;
            padding: 0;
            list-style: none;
        }
        .comparison-list li {
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: flex-start;
            line-height: 1.5;
        }
        .comparison-list li:last-child {
            border-bottom: none;
        }
        .comparison-icon {
            font-size: 18px;
            margin-right: 12px;
            flex-shrink: 0;
            margin-top: 2px;
        }
        .pro-section {
            margin-bottom: 25px;
        }
        .con-section {
            margin-top: 25px;
        }
        .section-label {
            font-weight: bold;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .pro-label {
            color: #2e7d32;
        }
        .con-label {
            color: #c62828;
        }
        .fitts-card {
            border-top: 4px solid #0079c1;
        }
        .harmony-card {
            border-top: 4px solid #6cbf43;
        }
        .scope-section {
            margin-top: 50px;
            margin-bottom: 50px;
        }
        .scope-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .scope-table th {
            background-color: #0079c1;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
            font-size: 14px;
        }
        .scope-table td {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            vertical-align: top;
        }
        .scope-table tr:last-child td {
            border-bottom: none;
        }
        .scope-table tr:hover {
            background-color: #f5f5f5;
        }
        .scope-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        .scope-in {
            background-color: #e3f2fd;
            color: #1565c0;
        }
        .scope-recommended {
            background-color: #fff3e0;
            color: #e65100;
        }
        .quality-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: bold;
        }
        .quality-minimal {
            background-color: #fff9c4;
            color: #f57f17;
        }
        .quality-better {
            background-color: #c8e6c9;
            color: #2e7d32;
        }
        .quality-best {
            background-color: #a5d6a7;
            color: #1b5e20;
        }
        .cost-badge {
            font-weight: bold;
            font-size: 15px;
            color: #0079c1;
        }
        .cost-na {
            color: #999;
            font-style: italic;
        }
        .note-text {
            font-size: 12px;
            color: #666;
            line-height: 1.4;
        }
        .summary-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }
        .summary-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .summary-card h4 {
            margin-top: 0;
            color: #0079c1;
            font-size: 16px;
        }
        .summary-items {
            list-style: none;
            padding: 0;
            margin: 10px 0;
        }
        .summary-items li {
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
        }
        .summary-items li:last-child {
            border-bottom: none;
            font-weight: bold;
            font-size: 16px;
            color: #0079c1;
        }
        .timeline-section {
            margin-top: 50px;
            margin-bottom: 50px;
        }
        .timeline-container {
            position: relative;
            background: white;
            padding: 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .buffer-note {
            background-color: #fff3cd;
            border-left: 4px solid #ffb81c;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .buffer-note strong {
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Fitts vs New Harmony Field Comparison</h1>
        
        <div class="buffer-note">
            <strong>Note:</strong> Charts display base costs. Totals shown below include a 10% buffer for contingency planning.
        </div>
        
        <div class="summary">
            <div class="summary-box">
                <h3>Fitts Field Total</h3>
                <div class="summary-value">$144,100</div>
                <div class="summary-breakdown">Base: $131,000 + 10% Buffer: $13,100</div>
            </div>
            <div class="summary-box">
                <h3>New Harmony Field Total</h3>
                <div class="summary-value">$193,600</div>
                <div class="summary-breakdown">Base: $176,000 + 10% Buffer: $17,600</div>
                <div class="info-badge">
                    <strong>‚ÑπÔ∏è Note:</strong> Includes imagery for all of CTR
                </div>
            </div>
        </div>

        <div class="comparison-section">
            <h2>Field Comparison: Advantages & Considerations</h2>
            <div class="comparison-grid">
                <div class="comparison-card fitts-card">
                    <h3>Fitts Field</h3>
                    
                    <div class="pro-section">
                        <div class="section-label pro-label">‚úì Advantages</div>
                        <ul class="comparison-list">
                            <li>
                                <span class="comparison-icon">‚ö†Ô∏è</span>
                                <span>Older infrastructure means higher risk of infrastructure failure</span>
                            </li>
                            <li>
                                <span class="comparison-icon">üìä</span>
                                <span>High incident rate</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="con-section">
                        <div class="section-label con-label">‚ö° Considerations</div>
                        <ul class="comparison-list">
                            <li>
                                <span class="comparison-icon">ü§ù</span>
                                <span>Tougher region buy-in</span>
                            </li>
                            <li>
                                <span class="comparison-icon">üìç</span>
                                <span>More difficult to expand to CTR</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="comparison-card harmony-card">
                    <h3>New Harmony Field</h3>
                    
                    <div class="pro-section">
                        <div class="section-label pro-label">‚úì Advantages</div>
                        <ul class="comparison-list">
                            <li>
                                <span class="comparison-icon">‚ö†Ô∏è</span>
                                <span>High risk due to Wabash proximity</span>
                            </li>
                            <li>
                                <span class="comparison-icon">‚úÖ</span>
                                <span>Region buy-in secured</span>
                            </li>
                            <li>
                                <span class="comparison-icon">üîÑ</span>
                                <span>Smooth transition for CTR expansion</span>
                            </li>
                            <li>
                                <span class="comparison-icon">üó∫Ô∏è</span>
                                <span>POCs enable extended GIS capabilities</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="con-section">
                        <div class="section-label con-label">‚ö° Considerations</div>
                        <ul class="comparison-list">
                            <li>
                                <span class="comparison-icon">üèîÔ∏è</span>
                                <span>Complex terrain drives higher Thermal/GPR costs</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="chart-section">
            <h2>Cost Comparison by Item</h2>
            <div class="chart-container">
                <canvas id="costChart"></canvas>
            </div>
        </div>

        <div class="warning-badge" style="max-width: 900px; margin: 40px auto; padding: 20px; font-size: 16px;">
            <strong>‚ö†Ô∏è Note:</strong> Thermal/GPR cost represents initial site visit and quote development only. Actual data collection costs will be determined and quoted separately after site assessment.
        </div>

        <div class="chart-section">
            <h2>Percentage Distribution by Field</h2>
            <div class="pie-charts">
                <div>
                    <h3 style="text-align: center; color: #666;">Fitts Field</h3>
                    <div class="pie-chart-container">
                        <canvas id="fittsPieChart"></canvas>
                    </div>
                </div>
                <div>
                    <h3 style="text-align: center; color: #666;">New Harmony Field</h3>
                    <div class="pie-chart-container">
                        <canvas id="harmonyPieChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div class="scope-section">
            <h2>Decision Matrix: Scope & Cost Analysis (Per Acre)</h2>
            
            <table class="scope-table">
                <thead>
                    <tr>
                        <th>Item</th>
                        <th>Scope</th>
                        <th>Data Quality</th>
                        <th>Required For</th>
                        <th>Cost/Acre</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Database</strong></td>
                        <td><span class="scope-badge scope-in">In-Scope</span></td>
                        <td><span class="quality-badge quality-minimal">Minimal</span></td>
                        <td>Foundational Layer</td>
                        <td><span class="cost-badge cost-na">N/A</span></td>
                        <td><span class="note-text">Executed internally regardless of capital investment.</span></td>
                    </tr>
                    <tr>
                        <td><strong>Portal Layer</strong></td>
                        <td><span class="scope-badge scope-in">In-Scope</span></td>
                        <td><span class="quality-badge quality-minimal">Minimal</span></td>
                        <td>Foundational Layer</td>
                        <td><span class="cost-badge cost-na">N/A</span></td>
                        <td><span class="note-text">Executed internally regardless of capital investment.</span></td>
                    </tr>
                    <tr>
                        <td><strong>Cartodyne</strong></td>
                        <td><span class="scope-badge scope-in">In-Scope</span></td>
                        <td><span class="quality-badge quality-better">Better</span></td>
                        <td>Field Data Collection, Field Training, SOP Development</td>
                        <td><span class="cost-badge">$8.33</span></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td><strong>Digitizing</strong></td>
                        <td><span class="scope-badge scope-in">In-Scope</span></td>
                        <td><span class="quality-badge quality-minimal">Minimal</span></td>
                        <td>Hard Copy Digitizing</td>
                        <td><span class="cost-badge">$3.33</span></td>
                        <td><span class="note-text">Digitizing support likely unnecessary; deploy if needed to sustain project.</span></td>
                    </tr>
                    <tr>
                        <td><strong>Licensing</strong></td>
                        <td><span class="scope-badge scope-in">In-Scope</span></td>
                        <td><span class="quality-badge quality-better">Better</span></td>
                        <td>Field Data Collection</td>
                        <td><span class="cost-badge">$0.67</span></td>
                        <td><span class="note-text">Annual licensing cost. Alternative maintenance solution ideal.</span></td>
                    </tr>
                    <tr>
                        <td><strong>Imagery</strong></td>
                        <td><span class="scope-badge scope-recommended">Recommended</span></td>
                        <td><span class="quality-badge quality-best">Best</span></td>
                        <td>Flowline Crossing App</td>
                        <td><span class="cost-badge">$0.72</span></td>
                        <td><span class="note-text">Per acre cost derived from quote for all of CTR. Fitts per-acre cost is higher due to vendor minimums.</span></td>
                    </tr>
                    <tr>
                        <td><strong>Planimetrics</strong></td>
                        <td><span class="scope-badge scope-recommended">Recommended</span></td>
                        <td><span class="quality-badge quality-best">Best</span></td>
                        <td>Asset Digitizing, Change Detection</td>
                        <td><span class="cost-badge">$0.16</span></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td><strong>Thermal/GPR</strong></td>
                        <td><span class="scope-badge scope-recommended">Recommended</span></td>
                        <td><span class="quality-badge quality-best">Best</span></td>
                        <td>Flowline Location Gap-Fill, Leak Detection</td>
                        <td><span class="cost-badge">$2.00</span></td>
                        <td><span class="note-text" style="color: #c62828; font-weight: bold;">Includes very rough ballpark estimate for gap-fill data collection.</span></td>
                    </tr>
                </tbody>
            </table>

            <div class="summary-grid">
                <div class="summary-card">
                    <h4>In-Scope Items Cost Summary (per 6,000 acres)</h4>
                    <ul class="summary-items">
                        <li><span>Cartodyne</span><span>$8.33/acre</span></li>
                        <li><span>Digitizing</span><span>$3.33/acre</span></li>
                        <li><span>Licensing</span><span>$0.67/acre</span></li>
                        <li><span>Total In-Scope</span><span>$12.33/acre</span></li>
                    </ul>
                </div>
                <div class="summary-card">
                    <h4>Recommended Items Cost Summary</h4>
                    <ul class="summary-items">
                        <li><span>Imagery (per 103,000 acres)</span><span>$0.72/acre</span></li>
                        <li><span>Planimetrics (per 103,000 acres)</span><span>$0.16/acre</span></li>
                        <li><span>Thermal/GPR (per 6,000 acres)</span><span>$2.00/acre</span></li>
                        <li><span>Total Recommended</span><span>$2.88/acre</span></li>
                    </ul>
                </div>
            </div>

            <div class="summary-card" style="margin-top: 20px;">
                <h4>üìä Combined Total: $15.21 per acre (In-Scope + Recommended)</h4>
            </div>
        </div>

        <div class="timeline-section">
            <h2>Project Timeline</h2>
            <div class="timeline-container">
                <img src="https://raw.githubusercontent.com/mmillercogc/sharedImages/main/Flowline%20Mapping%20Project%20Timeline.JPG" 
                     alt="Project Timeline" 
                     style="width: 100%; height: auto; display: block; border-radius: 8px;">
            </div>
        </div>
    </div>

    <script>
        // Data (base costs without buffer - buffer shown in summary only)
        const items = ['Cartodyne', 'Digitizing', 'Imagery', 'Planimetrics', 'Thermal/GPR', 'Licensing'];
        const fittsCosts = [50000, 20000, 44000, 1000, 12000, 4000];  // Base costs
        const harmonyCosts = [50000, 20000, 74000, 16000, 12000, 4000];  // Base costs
        const fittsPercentages = [38, 15, 34, 1, 9, 3];
        const harmonyPercentages = [28, 11, 42, 9, 7, 2];

        // Color palette
        const colors = [
            '#0079c1',  // Blue
            '#00a9e0',  // Light Blue
            '#6cbf43',  // Green
            '#ffb81c',  // Orange
            '#d32d27',  // Red
            '#702f8a'   // Purple
        ];

        // Cost Comparison Bar Chart
        const costCtx = document.getElementById('costChart').getContext('2d');
        new Chart(costCtx, {
            type: 'bar',
            data: {
                labels: items,
                datasets: [
                    {
                        label: 'Fitts Field',
                        data: fittsCosts,
                        backgroundColor: '#0079c1',
                        borderColor: '#005a8c',
                        borderWidth: 1
                    },
                    {
                        label: 'New Harmony Field',
                        data: harmonyCosts,
                        backgroundColor: '#6cbf43',
                        borderColor: '#4d8f31',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                layout: {
                    padding: {
                        top: 50
                    }
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            font: {
                                size: 14
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': $' + context.parsed.y.toLocaleString();
                            }
                        }
                    },
                    datalabels: {
                        color: '#000',
                        font: {
                            weight: 'bold',
                            size: 11
                        },
                        formatter: function(value) {
                            return '$' + (value / 1000).toFixed(0) + 'K';
                        },
                        anchor: 'end',
                        align: 'start',
                        offset: -20
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100000,
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        },
                        title: {
                            display: true,
                            text: 'Cost ($)',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Item',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        }
                    }
                }
            },
            plugins: [ChartDataLabels]
        });

        // Fitts Pie Chart
        const fittsPieCtx = document.getElementById('fittsPieChart').getContext('2d');
        new Chart(fittsPieCtx, {
            type: 'pie',
            data: {
                labels: items,
                datasets: [{
                    data: fittsPercentages,
                    backgroundColor: colors,
                    borderColor: '#fff',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            font: {
                                size: 12
                            },
                            padding: 15,
                            generateLabels: function(chart) {
                                const data = chart.data;
                                if (data.labels.length && data.datasets.length) {
                                    return data.labels.map((label, i) => {
                                        const value = data.datasets[0].data[i];
                                        const cost = fittsCosts[i];
                                        return {
                                            text: label + ': ' + value + '% ($' + cost.toLocaleString() + ')',
                                            fillStyle: data.datasets[0].backgroundColor[i],
                                            hidden: false,
                                            index: i
                                        };
                                    });
                                }
                                return [];
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.label + ': ' + context.parsed + '% ($' + fittsCosts[context.dataIndex].toLocaleString() + ')';
                            }
                        }
                    },
                    datalabels: {
                        display: false
                    }
                }
            },
            plugins: [ChartDataLabels]
        });

        // New Harmony Pie Chart
        const harmonyPieCtx = document.getElementById('harmonyPieChart').getContext('2d');
        new Chart(harmonyPieCtx, {
            type: 'pie',
            data: {
                labels: items,
                datasets: [{
                    data: harmonyPercentages,
                    backgroundColor: colors,
                    borderColor: '#fff',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            font: {
                                size: 12
                            },
                            padding: 15,
                            generateLabels: function(chart) {
                                const data = chart.data;
                                if (data.labels.length && data.datasets.length) {
                                    return data.labels.map((label, i) => {
                                        const value = data.datasets[0].data[i];
                                        const cost = harmonyCosts[i];
                                        return {
                                            text: label + ': ' + value + '% ($' + cost.toLocaleString() + ')',
                                            fillStyle: data.datasets[0].backgroundColor[i],
                                            hidden: false,
                                            index: i
                                        };
                                    });
                                }
                                return [];
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.label + ': ' + context.parsed + '% ($' + harmonyCosts[context.dataIndex].toLocaleString() + ')';
                            }
                        }
                    },
                    datalabels: {
                        display: false
                    }
                }
            },
            plugins: [ChartDataLabels]
        });
    </script>
</body>
</html>
